<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>webpass</title>

		<script type="text/javascript" src="node_modules/vue/dist/vue.min.js"></script>
		<script type="text/javascript" src="node_modules/openpgp/dist/openpgp.min.js"></script>
	</head>
	<body>
		<div id="app">
			<h1>webpass</h1>

			<input type="search" v-model="query" placeholder="Search a password..." autofocus>
			<ul>
				<li v-for="item in filteredItems">
					<a href="#" v-on:click.prevent="show(item)">{{ item }}</a>
				</li>
			</ul>

			<ask-pass v-if="unlock" v-on:submit="unlock"></ask-pass>

			<div v-if="selectedItem">
				<h2>{{ selectedItem.name }}</h2>
				<pre>{{ selectedItem.password }}</pre>
				<pre>{{ selectedItem.metadata }}</pre>
			</div>
		</div>

		<template id="ask-pass-template">
			<form v-on:submit.prevent="submit()">
				<h2>unlock private key</h2>
				<p>A passphrase is required to unlock the OpenPGP private key.</p>
				<p><input type="password" v-model="passphrase"></p>
				<p>
					<button type="button" v-on:click="cancel">cancel</button>
					<button type="submit">unlock</button>
				</p>
			</form>
		</template>

		<script type="text/javascript" src="js/askpass.js"></script>
		<script type="text/javascript" src="js/main.js"></script>
	</body>
</html>
